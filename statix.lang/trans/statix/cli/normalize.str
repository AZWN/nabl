module statix/cli/normalize

imports

  signatures/statix/lang/-
  statix/lang/statics/-
  statix/lang/util
  statix/lang/normalize/util

  signatures/statix/cli/-

rules // maps

  normalize-mapping-constraints(|a):
    Eval(body){a*} -> Eval(body){a*}

rules // util

  normalize-scoped(replace,add-vars,to-c):
      Eval(body){a*} -> Eval(<mk-CExists>(bvs', body')){a*}
    with (body', bvs') := <collect-map-in-constraints(replace, add-vars, to-c)> body
